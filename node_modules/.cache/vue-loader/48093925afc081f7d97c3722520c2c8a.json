{"remainingRequest":"/Users/macintosh/vue/got-portal-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macintosh/vue/got-portal-vue/src/components/BookDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macintosh/vue/got-portal-vue/src/components/BookDetails.vue","mtime":1592665684901},{"path":"/Users/macintosh/vue/got-portal-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macintosh/vue/got-portal-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macintosh/vue/got-portal-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macintosh/vue/got-portal-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CgoKdmFyIGZpcmViYXNlQ29uZmlnID0gewogICAgYXBpS2V5OiAiQUl6YVN5RGxhYk5EYnIzZ0VzVHoxeGZEc284YnV1ejFKcWpEclU0IiwKICAgIGF1dGhEb21haW46ICJ2ZXUtZmlyZWJhc2UtZWYzYzAuZmlyZWJhc2VhcHAuY29tIiwKICAgIGRhdGFiYXNlVVJMOiAiaHR0cHM6Ly92ZXUtZmlyZWJhc2UtZWYzYzAuZmlyZWJhc2Vpby5jb20iLAogICAgcHJvamVjdElkOiAidmV1LWZpcmViYXNlLWVmM2MwIiwKICAgIHN0b3JhZ2VCdWNrZXQ6ICJ2ZXUtZmlyZWJhc2UtZWYzYzAuYXBwc3BvdC5jb20iLAogICAgbWVzc2FnaW5nU2VuZGVySWQ6ICI1MTIzNTc2ODk3MTQiLAogICAgYXBwSWQ6ICIxOjUxMjM1NzY4OTcxNDp3ZWI6OTc4MmY0NDk2MDNjMzE5MGE0NTVlYiIKfTsKLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZQpmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKCnZhciBkYXRhYmFzZSA9IGZpcmViYXNlLmRhdGFiYXNlKCk7CgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0Jvb2tEZXRhaWxzJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICBCb29rRGF0YUxpc3Q6IFtdLAogICAgICAgIGJvb2tzOiBbXSwKICAgICAgICByZXZpZXdCb3g6ICcnLAogICAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldCgnaHR0cHM6Ly9hbmFwaW9maWNlYW5kZmlyZS5jb20vYXBpL2Jvb2tzLycrIHF1ZXJ5U3RyaW5nICkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKAogICAgICAgICAgICAgICAgdGhpcy5Cb29rRGF0YUxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgICkpCiAgICAgICAgCiAgICB9LAogICAgbWV0aG9kczogewogICAgICBhZGRSZXZpZXc6IGZ1bmN0aW9uKCl7CgogICAgICAgICAgICAvKiBTYXZpbmcgRGF0YSAqLwogICAgICAgICAgICB2YXIgcmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ2Jvb2tzJyk7CiAgICAgICAgICAgIHZhciBib29rUmVmID0gZGF0YWJhc2UucmVmKCdib29rcycpOwogICAgICAgICAgICB2YXIgaXNibiA9ICB0aGlzLkJvb2tEYXRhTGlzdC5pc2JuOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJldmlld0JveCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzYm4pOwogICAgICAgICAgICBib29rUmVmLnB1c2goewogICAgICAgICAgICAgICBpc2JuOmlzYm4sCiAgICAgICAgICAgICAgICByZXZpZXc6IHRoaXMucmV2aWV3Qm94LAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8qIHJldHJpZXZpbmcgZGF0YSAqLwogICAgICAgICAgICAgcmVmLm9uU25hcHNob3Qoc25hcCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmJvb2tzID0gW107CiAgICAgICAgICAgICAgICBzbmFwLmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgYm9va3MgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGJvb2tzLmlkID0gZG9jLmlkOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYm9va3MucHVzaChib29rcyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["BookDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookDetails.vue","sourceRoot":"src/components","sourcesContent":["  <template>\n  <div id=\"book-details\">\n      <h3>{{BookDataList.name}}</h3>\n      <div class=\"book-detail\">\n          <strong>No of Pages: {{BookDataList.numberOfPages}} </strong>\n          <strong>Publisher: {{BookDataList.publisher}}</strong>\n          <strong>Country: {{BookDataList.country}}</strong>\n          <strong>Media Type: {{BookDataList.mediaType}}</strong>\n          <strong>Released: {{BookDataList.released}}</strong>\n          <strong>Total Characters: {{BookDataList.characters.length}}</strong>\n      </div>\n      <div class=\"review\">\n          <textarea name=\"\" id=\"submitted\" cols=\"50\" rows=\"5\" v-model=\"reviewBox\" placeholder=\"add review\" />\n          <div class=\"review-btn\">\n          <button id=\"book-review\" class=\"btn-primary\" v-on:click.prevent=\"addReview\" v-bind=\"BookDataList.isbn.attrs\">Add Review</button>\n          </div>\n      </div>\n\n        <div class=\"show-reveiw\" style=\"margin-top: 40px;\">\n          <h1>Reviews</h1>\n          <div id=\"comment\">\n\n            <div class=\"showing-review reviews\" v-if=\"show\">\n                <li class=\"collection-item\" v-for=\"book in books\" :key=\"book.id\">\n                {{this.reviewBox}}\n                </li>\n            </div>\n            <div class=\"no-review\" v-else>\n              <strong>Be the first to review</strong>\n            </div>\n          </div>\n\n        </div>\n  </div>\n  </template>\n\n <script>\n    import axios from 'axios';\n    import firebase from 'firebase';\n\n\n    var firebaseConfig = {\n        apiKey: \"AIzaSyDlabNDbr3gEsTz1xfDso8buuz1JqjDrU4\",\n        authDomain: \"veu-firebase-ef3c0.firebaseapp.com\",\n        databaseURL: \"https://veu-firebase-ef3c0.firebaseio.com\",\n        projectId: \"veu-firebase-ef3c0\",\n        storageBucket: \"veu-firebase-ef3c0.appspot.com\",\n        messagingSenderId: \"512357689714\",\n        appId: \"1:512357689714:web:9782f449603c3190a455eb\"\n    };\n    // Initialize Firebase\n    firebase.initializeApp(firebaseConfig);\n\n    var database = firebase.database();\n   \n    \n    export default {\n        name: 'BookDetails',\n        data() {\n            return {\n            BookDataList: [],\n            books: [],\n            reviewBox: '',\n            submitted: false,\n            show: false\n            };\n        },\n        mounted() {\n            const queryString = this.$route.params.id;\n            axios\n                .get('https://anapioficeandfire.com/api/books/'+ queryString )\n                .then(response => (\n                    this.BookDataList = response.data\n                ))\n            \n        },\n        methods: {\n          addReview: function(){\n\n                /* Saving Data */\n                var ref = firebase.database().ref('books');\n                var bookRef = database.ref('books');\n                var isbn =  this.BookDataList.isbn;\n                console.log(this.reviewBox);\n                console.log(isbn);\n                bookRef.push({\n                   isbn:isbn,\n                    review: this.reviewBox,\n                });\n\n                /* retrieving data */\n                 ref.onSnapshot(snap => {\n                    this.books = [];\n                    snap.forEach(doc => {\n                        var books = doc.data();\n                        books.id = doc.id;\n                        this.books.push(books);\n                    });\n                });\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    h1, h2 {\n        font-weight: normal;\n    }\n\n    ul {\n        list-style-type: none;\n        padding: 0;\n    }\n\n    li {\n        display: inline-block;\n        margin: 0 10px;\n    }\n\n    a {\n        color: #42b983;\n    }\n    .book-detail, .review{\n        width: 45%;\n        text-align: left;\n        display: inline-block;\n    }\n    .book-detail{\n        margin-left: 30px;\n        margin-top: 30px;\n    }\n    .review{\n        margin-right: 30px;\n    }\n    .book-detail strong{\n        display: block;\n        margin-bottom: 20px;\n    }\n    textarea#reviewBox {\n        height: 180px;\n        display: block;\n        margin-bottom: 40px;\n    }\n    .review-btn{\n        padding-left: 20%;\n    }\n    .btn-primary{\n        background:rgb(7, 163, 253);\n        color: #fff;\n        border: none;\n        padding: 15px 50px;\n        font-size: 16px;\n        font-weight: 600;\n    }\n    .show-reveiw{\n        text-align: left;\n        margin-left: 60px;\n    }\n</style>\n"]}]}